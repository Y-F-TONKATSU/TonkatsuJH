<html lang='ja'>

	<head>
		
		<!--meta--writing999986-->
		
	</head>
	
	<body>
		
		<!--header--writing999986-->
											
		<div id="cont">

			<div class="outer"><div class="inner">
				カモのフェルト人形をグラフィックとして使う<br>
				Android アプリを開発しています。<br>
				前のエントリで人形作りのことを書いたので、<br>
				今回は撮影のことを書きます。
			</div></div>
			
			<div class="outer"><div class="inner">
				<img class="noEdit" src="http://ton-katsu.net/assets/images/common/news/1303/kamo_shooting.jpg" alt="人形アニメ撮影風景"><br>
				自宅でやってるので、撮影終わるまで寝る場所が狭い。
			</div></div>
			
			<div class="outer"><div class="inner">
			<h2>
				人形アニメ撮影
			</h2>
			
				コマ撮りはとかく色々問題が起こります。<br>
				ライティングが不安定だとか、羽根の可動域が狭すぎるとか、<br>
				色々問題が新たに発生して、<br>
				実は、前回「人形が完成したぜ！ ひゃほーぅヒャ!」的なエントリを書いてから<br>
				一週間以上、人形や撮影装置の改造やら、合成処理の研究などに費やしたのでした。
			</div></div>
			
			<div class="outer"><div class="inner">
			<h3>
				カモ人形をさらに改良する
			</h3>
			
				まず、カモの羽根の可動域が狭い問題。<br>
				前回書いたとおり、カモの顔の動きは<br>
				複数のパーツを予め作っておいて、<br>
				ピンでパーツを付け替えることで表現します。<br>
				(しゃべる動きなら開いた口と閉じた口を作っておいて<br>
				一枚撮るごとに交互に取り替える、という具合。)
			</div></div>
			
			<div class="outer"><div class="inner">
				<img class="noEdit" src="http://ton-katsu.net/assets/images/common/news/1303/kamo_parts.jpg" alt="カモの人形のパーツ取り替えの図">
			</div></div>
			
			<div class="outer"><div class="inner">
				最初は、羽根も同じように針を取り付けたのですが、<br>
				口のように変形するものではないので、<br>
				複数のパーツを作るよりも可動域を確保することのほうが重要だと<br>
				後から気付きました。<br>
				ピンで刺してしまうと回転の軸が固定されるために、<br>
				可動域が大幅に制限されてしまいます。<br>
				また、羽根のような大きなものを刺すときは、<br>
				一箇所をピンで止めるだけでは重さを支えきれなかったり、<br>
				服の上からピンを突き刺すのは力がいるので、<br>
				動かすときに位置がずれる要因になったりと、<br>
				色々問題があり、方法を変え、<br>
				人形に針金を通して、針金に羽を固定しました。
			</div></div>
			
			<div class="outer"><div class="inner">
				以前、粘土の人形の骨格を作ったときは<br>
				針金は粘土よりも変形しにくいため、<br>
				変形時に粘土のほうが負けてしまうために骨格としては<br>
				あまり役に立たなかったのですが、<br>
				今回の羽根のように変形する必要がなくて<br>
				可動性とポーズの固定が問題なときにはそれなりに使えるようです。<br>
				(これがベストでは全然無い気はしますが。)<br>
				ガンプラなどに使うボールジョイントも検討したのですが、<br>
				これは硬すぎてコマ撮りに使うのは無理でした。<br>
				おそらくポーズをとらせるくらいの用途向けで<br>
				アニメーションに使うことは想定していないのでしょう。
			</div></div>
			
			<div class="outer"><div class="inner">
				『ウォレス & グルミット』でおなじみのアードマンでは<br>
				"Armature" なる骨格を独自に製作して骨格に使用してるみたいです。<br>
				<img class="noEdit" src="http://ton-katsu.net/assets/images/common/news/1303/armature.jpg" alt="アードマンの人形骨格 Armature"><br>
				もっともこんなのを使ってても、<br>
				クレイアニメは粘土の汚れとの戦いだ、みたいなことを言っていて、<br>
				事前にすごく準備と工夫をしても、<br>
				結局最後は根性になってくるところは変わらないみたいです。
			</div></div>
			
			<div class="outer"><div class="inner ads">
				(参考: Peter Lord, Brian Sibley<br>
				Creating 3-D Animation: The Aardman Book of Filmmaking )<br>
				<table cellpadding="0" cellspacing="0" border="0" style=" border:1px solid #ccc; width:90px;"><tr style="border-style:none;"><td style="vertical-align:top; border-style:none; padding:10px 10px 0pt;"><a href="http://px.a8.net/svt/ejp?a8mat=1ZSZDP+1ELVYY+249K+BWGDT&a8ejpredirect=http%3A%2F%2Fwww.amazon.co.jp%2Fdp%2F0810949717%2F%3Ftag%3Da8-affi-233326-22" target="_blank"><img border="0" alt="" src="http://ecx.images-amazon.com/images/I/51XCDSXQ42L._SS80_.jpg" /></a></td></tr><tr style="border-style:none;"><td style="font-size:12px; vertical-align:middle; border-style:none; padding:10px;"><p style="padding:0; margin:0;"><a href="http://px.a8.net/svt/ejp?a8mat=1ZSZDP+1ELVYY+249K+BWGDT&a8ejpredirect=http%3A%2F%2Fwww.amazon.co.jp%2Fdp%2F0810949717%2F%3Ftag%3Da8-affi-233326-22" target="_blank">Creating 3-D Animation: The Aardman Book of Filmmaking</a></p><p style="color:#cc0000; font-weight:bold; margin-top:10px;">新品価格<br/>￥5,560<span style="font-weight:normal;">から</span><br/><span style="font-size:10px; font-weight:normal;">(2015/4/14 23:57時点)</span></p></td></tr></table>
<img border="0" width="1" height="1" src="http://www12.a8.net/0.gif?a8mat=1ZSZDP+1ELVYY+249K+BWGDT" alt="">
			</div></div>
			
			<div class="outer"><div class="inner">
			<h3>
				ライティング
			</h3>
			
				ライティングは<br>
				最初は100円のライトでも工夫次第では意外といけるんじゃないかという<br>
				無駄なチャレンジ精神を発揮して、色々改造して使ってみたのですが、<br>
				実際撮ってみると、徐々に光量が変化していることに気付いて、<br>
				やっぱりこれじゃ無理だと。
			</div></div>
			
			<div class="outer"><div class="inner">
				結局、ウェディングカメラマンの友人にアドバイスを頼んだら、<br>
				さすがはプロで色々解決しくれて、<br>
				そのうえ機材まで貸してもらえて、一気にレベルが上りました。
			</div></div>
			
			<div class="outer"><div class="inner">
			<h3>
				グリーンマット合成
			</h3>
			
				映像にとってライティングが重要なのは当然ですが、<br>
				今回は特にグリーンマットによる合成があるので<br>
				ライティングの不備は致命傷になります。<br>
				グリーンマットは緑一色のシートを背景に撮影して<br>
				後から緑の部分を別の背景に置き換える、というアレです。<br>
				(私は非現実的な映像が好きで、<br>
				合成技術は常に興味の対象だったので、<br>
				アプリ開発でこういうのを実地に試せるのはとてもうれしい)<br>
				今回使用するグリーンバックは画材屋で買った普通の画用紙ですが、<br>
				これでもライティングが適切ならそれなりに使えます。
			</div></div>
			
			<div class="outer"><div class="inner">
				合成には AfterEffects に付属しているプラグインの KeyLight を使います。<br>
				これは、とても優秀なプラグインで、<br>
				適切にライティングされた素材なら<br>
				スクリーンカラーを指定するだけでごくあっさり背景を抜けるし、<br>
				ちょっと背景が均一でなくても頑張ればある程度は応えてくれます。
			</div></div>
			
			<div class="outer"><div class="inner">
				今回は、人形の不安定さの改善のために<br>
				バックと同じ色に塗った菜箸を<br>
				撮影台に仕込んで、人形を支えています。<br>
				菜箸は家にあったイーゼルに固定してあります。<br>
				イーゼルの可動ギミックによって菜箸の高さを調整できて<br>
				実にうまい具合なのです。<br>
				(プロ用の照明機材が導入されると、<br>
				スタジオっぽさが出てテンション上がりましたが、<br>
				こういう貧乏臭い工夫も楽しいものです。)
			</div></div>
			
			<div class="outer"><div class="inner">
				しかし、厄介なのが影の位置で、<br>
				菜箸自体は KeyLight で消せるのですが、<br>
				箸の影は消せなくてこれが画面の中に入ってくると<br>
				厄介なことになります。<br>
				しかし、人形の安定は最重要だし、<br>
				この他にも<br>
				背景に均一に光を当てて、<br>
				さらに人形のオペレーターの作業スペースも確保して、<br>
				なおかつ、もちろん<br>
				通常の意味でのライティングの効果も考えるとなると<br>
				どこかを切り捨てざるを得ません。<br>
				それで、菜箸の影の問題はもうあきらめて、<br>
				後から PhotoShop でがんばって消すことで<br>
				解決することにしました。
			</div></div>
			
			<div class="outer"><blockquote class="inner">
				すべてはタイミングとスペーシング(間隔)だ<br>
				(リチャード・ウィリアムズ『アニメーターズサバイバルキット』)
			</blockquote></div>
			
			<div class="outer"><div class="inner ads">
				<table cellpadding="0" cellspacing="0" border="0" style=" border:1px solid #ccc; width:90px;"><tr style="border-style:none;"><td style="vertical-align:top; border-style:none; padding:10px 10px 0pt;"><a href="http://px.a8.net/svt/ejp?a8mat=1ZSZDP+1ELVYY+249K+BWGDT&a8ejpredirect=http%3A%2F%2Fwww.amazon.co.jp%2Fdp%2F4766121961%2F%3Ftag%3Da8-affi-233326-22" target="_blank"><img border="0" alt="" src="http://ecx.images-amazon.com/images/I/51YvoBjsAAL._SS80_.jpg" /></a></td></tr><tr style="border-style:none;"><td style="font-size:12px; vertical-align:middle; border-style:none; padding:10px;"><p style="padding:0; margin:0;"><a href="http://px.a8.net/svt/ejp?a8mat=1ZSZDP+1ELVYY+249K+BWGDT&a8ejpredirect=http%3A%2F%2Fwww.amazon.co.jp%2Fdp%2F4766121961%2F%3Ftag%3Da8-affi-233326-22" target="_blank">増補 アニメーターズサバイバルキット</a></p><p style="color:#cc0000; font-weight:bold; margin-top:10px;">中古価格<br/>￥8,554<span style="font-weight:normal;">から</span><br/><span style="font-size:10px; font-weight:normal;">(2015/4/14 23:57時点)</span></p></td></tr></table>
<img border="0" width="1" height="1" src="http://www12.a8.net/0.gif?a8mat=1ZSZDP+1ELVYY+249K+BWGDT" alt="">
			</div></div>
			
			<div class="outer"><div class="inner">
				<h3>
					タイミング
				</h3>
				
				最後にアニメーションのタイミングについて。<br>
				はじめは勘に頼って動かしてみたら、<br>
				予想外な良さがある動きができたりもして<br>
				これはこれでやってみてよかったのですが、<br>
				やはりクオリティが安定しなくて、<br>
				タイミングシートのようなものはあったほうがいいという<br>
				無難な結論を出しました。
			</div></div>
			
			<div class="outer"><div class="inner">
				まず悩んだのはフレームレートです。<br>
				(一秒間に何枚の絵を表示するかを示す数値で<br>
				例えば 24 fps なら、一秒間に 24 枚の絵を表示するアニメーションになります。<br>
				数値が大きいほど動きはなめらかになります。)<br>
				過去のアプリ、例えば<a href="https://play.google.com/store/apps/details?id=air.tv.from.mb.NiceKnife" target="_blank"> nice knife </a> のフレームレートは低めの 8 fps に設定してあります。<br>
				これは開発当時使っていた<br>
				テスト用マシンのグラフィック性能が低かったからなのですが、<br>
				さすがに昨今の Android デバイス群はまったく事情が違います。<br>
				今回は動きを見せることがメインに近いので、<br>
				滑らかな動きを見せたいということになりました。<br>
				しかし、フレームレートを上げればいい動きになるか？<br>
				という疑問はあって、<br>
				低いフレームレートでもキーになるフレームをしっかり見せれば<br>
				いい動きになるわけで、これはある程度までは趣味の問題です。
			</div></div>
			
			<div class="outer"><div class="inner">
				それで、24 か 12 で迷ったのですが、<br>
				これがアニメだったら迷わず 12 に決めていたと思います。<br>
				コマ撮りアニメでは、<br>
				コマ撮りらしいタイミングのジャンプが逆に面白いので。<br>
				色々考えたものの、<br>
				結局こういうのは最後は感性で決めるもので、<br>
				両方試して見比べた結果 12 に決めました。
			</div></div>
			
			<div class="outer"><div class="inner">
			<h3>
				スケッチ
			</h3>
			
				タイミングシートの代わりに<br>
				Flash で動きを実際に<br>
				簡単なドローイングで描いて見ることにしました。
			</div></div>
			
			<div class="outer"><div class="inner">
				カモのアニメーションのスケッチ<br>
				<iframe width="240" height="180" src="http://www.youtube.com/embed/tV5LATXbUnY" frameborder="0" allowfullscreen></iframe>
			</div></div>
			
			<div class="outer"><div class="inner">
				人形を動かすのが大変なので<br>
				タイミングを事前に知ることで<br>
				一発で成功する確率が上がるなら、<br>
				それくらいやっても安い、というわけです。
			</div></div>
			
			<div class="outer"><div class="inner">
				タイミングを調整するのに Flash のタイムラインはすごく便利です。<br>
				さらに CS6 で搭載された、シンボルからスプライトシートを作成する機能が<br>
				予想外に役に立ちました。<br>
				これは Flash Player 以外のプラットフォームのゲームなどに<br>
				アニメーションをエクスポートするための機能ですが、<br>
				これを印刷して壁に貼ればタイミングシートがわりに使えます。
				<img class="noEdit" src="http://ton-katsu.net/assets/images/common/news/1303/sprite.jpg" alt="人形アニメーションのタイミングシート">
			</div></div>
			
			
			<div class="outer"><div class="inner">
				なかなか進みませんが、<br>
				今回のアプリは今までで一番、<br>
				作ってていい手応えを感じます。
			</div></div>
			
		</div>
		
		<!--footer--writing999986-->
		
	</body>
	
</html>